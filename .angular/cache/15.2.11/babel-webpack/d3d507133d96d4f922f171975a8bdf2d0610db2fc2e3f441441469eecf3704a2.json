{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/user.service\";\nimport * as i2 from \"../../services/weather.service\";\nimport * as i3 from \"@angular/common\";\nfunction UsersComponent_div_3_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"\\u041F\\u043E\\u0433\\u043E\\u0434\\u0430:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const user_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r2.getIcon(user_r1.weather.code), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83C\\uDF21\\uFE0F \\u041F\\u043E\\u0442\\u043E\\u0447\\u043D\\u0430: \", user_r1.weather.current, \"\\u00B0C\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDD3C \\u041C\\u0430\\u043A\\u0441: \", user_r1.weather.max, \"\\u00B0C\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\\uD83D\\uDD3D \\u041C\\u0456\\u043D: \", user_r1.weather.min, \"\\u00B0C\");\n  }\n}\nfunction UsersComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelement(1, \"img\", 4);\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\")(5, \"strong\");\n    i0.ɵɵtext(6, \"\\u0421\\u0442\\u0430\\u0442\\u044C:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\")(9, \"strong\");\n    i0.ɵɵtext(10, \"Email:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\")(13, \"strong\");\n    i0.ɵɵtext(14, \"\\u041C\\u0456\\u0441\\u0446\\u0435\\u0437\\u043D\\u0430\\u0445\\u043E\\u0434\\u0436\\u0435\\u043D\\u043D\\u044F:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(16, UsersComponent_div_3_div_16_Template, 11, 4, \"div\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", user_r1.picture.large, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", user_r1.name.first, \" \", user_r1.name.last, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.gender, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", user_r1.email, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", user_r1.location.city, \", \", user_r1.location.country, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", user_r1.weather);\n  }\n}\nexport let UsersComponent = /*#__PURE__*/(() => {\n  class UsersComponent {\n    constructor(userService, weatherService) {\n      this.userService = userService;\n      this.weatherService = weatherService;\n      this.users = [];\n    }\n    ngOnInit() {\n      this.userService.getUsers().subscribe(data => {\n        this.users = data.results;\n        this.users.forEach(user => {\n          const lat = parseFloat(user.location.coordinates.latitude);\n          const lon = parseFloat(user.location.coordinates.longitude);\n          this.weatherService.getWeather(lat, lon).subscribe(w => {\n            user.weather = {\n              current: w.current_weather.temperature,\n              max: w.daily.temperature_2m_max[0],\n              min: w.daily.temperature_2m_min[0],\n              code: w.current_weather.weathercode\n            };\n          });\n        });\n      });\n    }\n    getIcon(code) {\n      if (code < 3) return '☀️ Сонячно';\n      if (code < 50) return '⛅ Хмарно';\n      if (code < 70) return '🌧️ Дощ';\n      return '🌨️ Сніг';\n    }\n  }\n  UsersComponent.ɵfac = function UsersComponent_Factory(t) {\n    return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.WeatherService));\n  };\n  UsersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UsersComponent,\n    selectors: [[\"app-users\"]],\n    decls: 4,\n    vars: 1,\n    consts: [[1, \"text-center\"], [1, \"grid\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [\"alt\", \"User Photo\", 3, \"src\"], [\"class\", \"weather\", 4, \"ngIf\"], [1, \"weather\"]],\n    template: function UsersComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"User Weather App\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtemplate(3, UsersComponent_div_3_Template, 17, 8, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.users);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf],\n    styles: [\".text-center[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:10px;padding:20px;box-shadow:0 4px 6px #0000001a}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;display:block;margin:0 auto 10px}\"]\n  });\n  return UsersComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}